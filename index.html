<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nursing Complete Quiz</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Roboto', 'Cairo', sans-serif; background-color: #f3f4f6; }
        
        .inline-input {
            display: inline-block;
            border: none;
            border-bottom: 3px solid #fbbf24;
            background-color: transparent;
            color: #b45309;
            padding: 0 5px;
            margin: 0 5px; /* Ù…Ø³Ø§ÙØ© Ø¨ÙŠÙ† Ø§Ù„Ø®Ø§Ù†Ø§Øª */
            font-weight: bold;
            text-align: center;
            font-size: 1.1em;
            min-width: 140px;
            width: auto;
            outline: none;
            transition: all 0.3s;
        }
        
        .inline-input:focus {
            border-bottom-color: #4f46e5;
            background-color: rgba(255, 255, 255, 0.5);
        }

        .sentence-container {
            line-height: 2.5;
            font-size: 1.25rem;
            color: #1f2937;
        }

        .correct { border-bottom-color: #22c55e !important; color: #15803d !important; background-color: #dcfce7 !important; }
        .wrong { border-bottom-color: #ef4444 !important; color: #b91c1c !important; background-color: #fee2e2 !important; animation: shake 0.4s; }
        .close { border-bottom-color: #eab308 !important; color: #854d0e !important; background-color: #fef9c3 !important; }

        @keyframes shake { 0%, 100% { transform: translateX(0); } 25% { transform: translateX(-5px); } 75% { transform: translateX(5px); } }
    </style>
</head>
<body class="flex flex-col min-h-screen">

    <header class="bg-indigo-700 text-white p-4 shadow-md sticky top-0 z-50">
        <div class="container mx-auto max-w-3xl flex justify-between items-center">
            <h1 class="text-xl font-bold">Nursing Quiz</h1>
            <div class="bg-indigo-800 px-3 py-1 rounded-lg text-sm font-mono">
                Score: <span id="current-score">0</span> / <span id="total-questions">23</span>
            </div>
        </div>
    </header>

    <main class="flex-grow flex items-center justify-center p-4">
        <div class="bg-white w-full max-w-3xl rounded-2xl shadow-xl overflow-hidden flex flex-col min-h-[450px]">
            <div class="w-full bg-gray-200 h-1.5">
                <div id="progress-bar" class="bg-yellow-400 h-1.5 transition-all duration-500" style="width: 0%"></div>
            </div>

            <div class="p-8 flex-grow flex flex-col justify-center">
                <div class="flex justify-between items-center text-gray-500 text-sm font-bold mb-6">
                    <span id="question-number">Question 1</span>
                    <span class="bg-gray-100 px-2 py-1 rounded">Fill in the blank(s)</span>
                </div>

                <div id="sentence-container" class="sentence-container text-center mb-8"></div>

                <div id="feedback-message" class="h-16 flex items-center justify-center text-lg font-bold transition-all text-center"></div>
            </div>

            <div class="bg-gray-50 p-6 border-t border-gray-100 grid grid-cols-2 gap-4">
                <button onclick="checkAnswer()" id="btn-check" class="bg-indigo-600 hover:bg-indigo-700 text-white py-3 px-6 rounded-xl font-bold shadow-sm transition active:scale-95">Check Answer</button>
                <button onclick="showAnswer()" id="btn-reveal" class="bg-white border-2 border-gray-200 text-gray-600 hover:bg-gray-50 py-3 px-6 rounded-xl font-bold transition">Show Answer</button>
                <button onclick="nextQuestion()" id="btn-next" class="hidden col-span-2 bg-yellow-500 hover:bg-yellow-600 text-white py-3 px-6 rounded-xl font-bold shadow-md transition flex items-center justify-center gap-2">Next Question</button>
            </div>
        </div>
    </main>

<script>
    const questions = [
        { q:"1- __________ state of complete physical, mental and social wellbeing not merely absence of disease.", a:"Health"},
        { q:"2- Modes of transmission of infection are contact, air, vehicle, and __________.", a:"vector"},
        { q:"3- __________ pressure. This is the pressure of the blood because of contraction of the ventricles.", a:"Systolic"},
        { q:"4- __________ are physical, intellectual, mental, social, emotional and spiritual.", a:"Dimensions of Health"},
        { q:"5- During __________, diaphragm muscles contract, resulting in increased intrathoracic volume as the lungs expand.", a:"inspiration"},
        { q:"6- __________: the inability to breath in lying position.", a:"Orthopnea"},
        { q:"7- __________ reflects the balance between the heat produced and the heat lost from the body.", a:"Body temperature"},
        { q:"8- __________: is the temperature of the skin, the subcutaneous tissue and the fat.", a:"Surface temperature"},
        { q:"9- __________ is the process that allows the human body to maintain its core internal temperature.", a:"Thermoregulation"},
        { q:"10- __________: Is the process that destroyed all microorganisms, including spores and viruses.", a:"Sterilizing"},
        { q:"11- __________: it is difficulty in breathing and mostly it is painful.", a:"Dyspnea"},
        
        // --- Ø§Ù„Ø³Ø¤Ø§Ù„ Ø¯Ù‡ Ø§ØªØ¹Ø¯Ù„ Ø¹Ø´Ø§Ù† ÙŠØ§Ø®Ø¯ Ù…ØµÙÙˆÙØ© Ø¥Ø¬Ø§Ø¨Ø§Øª (3 Ø®Ø§Ù†Ø§Øª) ---
        { 
            q: "12- An infection progresses through phases: __________, __________, __________ and convalescence.", 
            a: ["incubation period", "prodromal period", "full stage of illness"]
        },
        
        { q:"13- Mobility depends on the successful interaction among the __________, the __________, and the __________.", a:["skeleto","muscles","nervous system"]
            
        },
        { q:"14- Type of infection by origin(source) are __________ and __________.", a:["endogenous","exogenous"]
            
        },
        { q:"15- Factors affecting mobility and activity are __________, __________ stage, __________ and environment and __________.", a:["Health status","developmental","nutrition","life style"]
            
        },
        { q:"16- A blood clot that originates at the site of obstruction is __________.", a:"thrombus"},
        { q:"17- __________ is an imaginary vertical line through the top of the head, the center of gravity, and the base.", a:"Line of gravity"},
        { q:"18- Mobility Assistive Devices such as canes, __________, and __________.", a:["crutches","walkers"]
            
        },
        { q:"19- Classification of Pain according to physiology are nociceptive, __________ and __________.", a:["neuropathic","phantom"]
            
        },
        { q:"20- Enhancing therapeutic communication through active listening, establishing trust, __________ and  __________.", a:["using silence","being assertive"]
            
        },
        { q:"21- Extrinsic risk factors for pressure ulcers are __________, __________, __________ and chemical irritants.", a:["pressure","friction","moisture"]
            
        },
        { q:"22- Intrinsic risk factors for pressure ulcers are __________, incontinence, __________, __________ and age related skin changes.", a:["immobility","obesity","malnutrition"]
            
        },
        { q:"23- Sites of pressure ulcers include __________, __________, __________, __________ and __________.", a:["back of head","elbow","knee","scapula","shoulders"]
            
        }
    ];

    let currentIndex = 0;
    let score = 0;
    let state = 'answering'; 

    function init() {
        document.getElementById('total-questions').innerText = questions.length;
        loadQuestion();
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Enter') {
                if (state === 'answering') checkAnswer();
                else if (state === 'feedback') nextQuestion();
            }
        });
    }

    function loadQuestion() {
        state = 'answering';
        const qObj = questions[currentIndex];
        const container = document.getElementById('sentence-container');
        
        // Ø§Ø³ØªØ¨Ø¯Ø§Ù„ ÙƒÙ„ "__________" Ø¨Ø®Ø§Ù†Ø© Ø¥Ø¯Ø®Ø§Ù„ Ù…Ù†ÙØµÙ„Ø©
        let htmlContent = qObj.q.replace(/_+/g, (match) => {
            return `<input type="text" class="inline-input" placeholder="......" autocomplete="off">`;
        });
        
        // Ø­Ù…Ø§ÙŠØ© Ø¥Ø¶Ø§ÙÙŠØ© Ù„Ùˆ Ø§Ù„Ù†Øµ Ù…ÙƒÙ†Ø´ ÙÙŠÙ‡ underscores Ø¨Ø³ Ø§Ù„Ø³Ø¤Ø§Ù„ Ù…Ø­ØªØ§Ø¬ Ø®Ø§Ù†Ø© ÙÙŠ Ø§Ù„Ø¢Ø®Ø±
        if (!htmlContent.includes('<input')) {
             htmlContent += ` <input type="text" class="inline-input" placeholder="......" autocomplete="off">`;
        }

        container.innerHTML = htmlContent;

        // Ø¥Ø¹Ø§Ø¯Ø© Ø¶Ø¨Ø· Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©
        document.getElementById('question-number').innerText = `Question ${currentIndex + 1}`;
        document.getElementById('feedback-message').innerHTML = '';
        document.getElementById('btn-check').classList.remove('hidden');
        document.getElementById('btn-reveal').classList.remove('hidden');
        document.getElementById('btn-next').classList.add('hidden');
        
        const progress = ((currentIndex) / questions.length) * 100;
        document.getElementById('progress-bar').style.width = `${progress}%`;

        setTimeout(() => {
            const inputs = document.querySelectorAll('.inline-input');
            if(inputs.length > 0) inputs[0].focus();
        }, 100);
    }

    function levenshtein(a, b) {
        const matrix = [];
        for (let i = 0; i <= b.length; i++) matrix[i] = [i];
        for (let j = 0; j <= a.length; j++) matrix[0][j] = j;
        for (let i = 1; i <= b.length; i++) {
            for (let j = 1; j <= a.length; j++) {
                if (b.charAt(i - 1) == a.charAt(j - 1)) {
                    matrix[i][j] = matrix[i - 1][j - 1];
                } else {
                    matrix[i][j] = Math.min(matrix[i - 1][j - 1] + 1, Math.min(matrix[i][j - 1] + 1, matrix[i - 1][j] + 1));
                }
            }
        }
        return matrix[b.length][a.length];
    }

    function normalize(str) {
        return str.toLowerCase().replace(/[^a-z0-9]/g, "").trim();
    }

    function checkAnswer() {
        const inputs = document.querySelectorAll('.inline-input');
        if (inputs.length === 0) return;

        let allCorrect = true;
        let anyCorrect = false;

        // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© (Ù…Ù…ÙƒÙ† ØªÙƒÙˆÙ† Ù†Øµ ÙˆØ§Ø­Ø¯ Ø£Ùˆ Ù…ØµÙÙˆÙØ© Ù†ØµÙˆØµ)
        const answerSource = questions[currentIndex].a;
        const correctAnswers = Array.isArray(answerSource) ? answerSource : [answerSource];

        // Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø¹Ø¯Ø¯ Ø§Ù„Ø®Ø§Ù†Ø§Øª Ù…Ø·Ø§Ø¨Ù‚ Ù„Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª (Ù„Ù„Ø­Ù…Ø§ÙŠØ©)
        // Ø¨Ù†Ø¹Ù…Ù„ Ù„ÙˆØ¨ Ø¹Ù„Ù‰ Ø§Ù„Ø®Ø§Ù†Ø§Øª
        inputs.forEach((input, idx) => {
            const userVal = normalize(input.value);
            // Ø¨Ù†Ø§Ø®Ø¯ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„Ù…Ù‚Ø§Ø¨Ù„Ø© Ù„Ø±Ù‚Ù… Ø§Ù„Ø®Ø§Ù†Ø©ØŒ Ù„Ùˆ Ù…ÙÙŠØ´ Ø¨Ù†Ø§Ø®Ø¯ Ø§Ù„Ø£Ø®ÙŠØ±Ø©
            const correctValRaw = correctAnswers[idx] || correctAnswers[0];
            const correctVal = normalize(correctValRaw);

            if (!userVal) {
                input.classList.add('wrong');
                allCorrect = false;
                return;
            }

            // ÙØ­Øµ Ø§Ù„ØªØ´Ø§Ø¨Ù‡ (Fuzzy Logic)
            const dist = levenshtein(userVal, correctVal);
            const similarity = 1 - (dist / Math.max(userVal.length, correctVal.length));

            if (similarity > 0.80) { // Ù…Ù…ØªØ§Ø²
                input.classList.add('correct');
                input.disabled = true;
                anyCorrect = true;
            } else if (similarity > 0.60) { // Ù‚Ø±ÙŠØ¨
                input.classList.add('close');
                input.disabled = true;
                allCorrect = false; // Ù…Ø´ Ù…Ø«Ø§Ù„ÙŠØ© Ø¨Ø³ Ù‡Ù†Ø¹ØªØ¨Ø±Ù‡Ø§ ØºÙ„Ø· Ø¹Ø´Ø§Ù† Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡
            } else { // ØºÙ„Ø·
                input.classList.add('wrong');
                input.disabled = true;
                allCorrect = false;
            }
        });

        const feedback = document.getElementById('feedback-message');
        
        if (allCorrect) {
            feedback.innerHTML = `<span class="text-green-600 flex items-center gap-2">âœ… Excellent!</span>`;
            score++;
        } else {
            // ØªØ¬Ù…ÙŠØ¹ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª Ø§Ù„ØµØ­ÙŠØ­Ø© Ù„Ù„Ø¹Ø±Ø¶
            const correctText = correctAnswers.join(' / ');
            feedback.innerHTML = `<span class="text-red-600 text-sm">Correct: <b>${correctText}</b></span>`;
        }

        updateScore();
        enableNext();
    }

    function showAnswer() {
        const inputs = document.querySelectorAll('.inline-input');
        const answerSource = questions[currentIndex].a;
        const correctAnswers = Array.isArray(answerSource) ? answerSource : [answerSource];

        inputs.forEach((input, idx) => {
            input.value = correctAnswers[idx] || correctAnswers[0];
            input.classList.add('correct');
            input.disabled = true;
        });

        enableNext();
    }

    function enableNext() {
        state = 'feedback';
        document.getElementById('btn-check').classList.add('hidden');
        document.getElementById('btn-reveal').classList.add('hidden');
        document.getElementById('btn-next').classList.remove('hidden');
        document.getElementById('btn-next').focus();
    }

    function updateScore() {
        document.getElementById('current-score').innerText = score;
    }

    function nextQuestion() {
        if (currentIndex < questions.length - 1) {
            currentIndex++;
            loadQuestion();
        } else {
            document.querySelector('main').innerHTML = `
                <div class="bg-white p-10 rounded-2xl shadow-xl text-center max-w-lg w-full">
                    <div class="text-6xl mb-4">ğŸ‰</div>
                    <h2 class="text-3xl font-bold text-gray-800 mb-4">Quiz Finished!</h2>
                    <p class="text-xl text-gray-600 mb-8">Score: <span class="font-bold text-indigo-600 text-2xl">${score}</span> / ${questions.length}</p>
                    <button onclick="location.reload()" class="bg-indigo-600 text-white py-3 px-8 rounded-full font-bold shadow-lg hover:bg-indigo-700 transition transform hover:scale-105">
                        Restart
                    </button>
                </div>
            `;
            document.getElementById('progress-bar').style.width = '100%';
        }
    }

    init();
</script>

<div class="fixed bottom-6 right-6 bg-white border border-yellow-400 text-indigo-800 px-4 py-2 rounded-full shadow-xl font-bold flex items-center gap-2 animate-bounce z-50">
    <span>â¤ï¸</span> Ù…ØªÙ†Ø³Ø§Ø´ ØªØµÙ„Ù‰ Ø¹Ù„ÙŠ Ø§Ù„Ù†Ø¨ÙŠ â™¥
</div>

</body>
</html>
```Made by Zyad â™¥
